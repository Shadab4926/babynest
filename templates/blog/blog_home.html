{% extends 'base.html' %}
{% load static %}

{% block title %}Parenting Blog | BabyNest{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'blog/css/blog.css' %}">
{% endblock %}

{% block content %}
<!-- Header Section -->
<section class="blog-header text-center py-5" style="background: linear-gradient(to right, #f7e9ff, #ffffff); border-bottom: 2px solid #f3e8ff;">
  <div class="container">
    <h2 class="fw-bold mb-2" style="color: #6f42c1; font-size: 2.2rem;">Parenting Wisdom & Name Magic</h2>
    <p class="text-muted">Discover expert tips and beautiful name stories for your baby</p>
  </div>
</section>

<!-- Featured Post -->
<section class="container py-5">
  <div class="row">
    {% if featured_post %}
    <div class="col-12 mb-5">
      <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
        <div class="row g-0">
          <div class="col-md-6">
            <img src="{{ featured_post.image.url }}" class="img-fluid w-100 h-100 object-fit-cover" alt="{{ featured_post.title }}">
          </div>
          <div class="col-md-6 d-flex flex-column justify-content-center p-4 bg-light">
            <p class="text-muted small mb-1">{{ featured_post.author }} · {{ featured_post.date|date:"F j, Y" }} · {{ featured_post.read_time }} min read</p>
            <h3 class="fw-semibold mb-3" style="color: #4a148c;">{{ featured_post.title }}</h3>
            <p class="text-muted">{{ featured_post.excerpt }}</p>
            <a href="{% url 'blog_detail' slug=featured_post.slug %}" class="btn btn-outline-primary mt-3">Read More</a>
          </div>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Blog Grid -->
    {% for post in blog_posts %}
    <div class="col-md-6 col-lg-4 mb-4">
      <div class="card h-100 border-0 shadow-sm rounded-3 overflow-hidden">
        <img src="{{ post.image.url }}" class="card-img-top" alt="{{ post.title }}">
        <div class="card-body d-flex flex-column">
          <span class="badge bg-light text-dark mb-2">{{ post.category }}</span>
          <h5 class="card-title mb-2" style="font-size: 1.1rem;">{{ post.title|truncatechars:60 }}</h5>
          <p class="card-text text-muted small mb-2">{{ post.date|date:"F j, Y" }} · {{ post.read_time }} min read</p>
          <a href="{% url 'blog_detail' slug=post.slug %}" class="btn btn-sm btn-link text-primary ps-0 mt-auto">Read &rarr;</a>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center text-muted">No blog posts found.</p>
    {% endfor %}
  </div>
</section>

<!-- Subscribe Section -->
<section class="subscribe-section py-5" style="background: linear-gradient(to right, #fce4ec, #f3e5f5); border-top: 2px solid #f8bbd0;">
  <div class="container text-center">
    <h4 class="fw-bold mb-3" style="color: #c2185b;">Get Weekly Parenting Tips</h4>
    <p class="text-muted mb-4">Subscribe for trending baby names and parenting guidance</p>
    <form class="row justify-content-center g-2 mt-3">
      <div class="col-md-4">
        <input type="email" class="form-control form-control-lg rounded-pill" placeholder="Your email address">
      </div>
      <div class="col-auto">
        <button type="submit" class="btn btn-primary btn-lg rounded-pill px-4">Subscribe</button>
      </div>
    </form>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'blog/js/blog.js' %}"></script>
{% endblock %}
